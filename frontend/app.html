<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MetaMask Connect (ethers v6)</title>
  <!-- ë¸Œë¼ìš°ì € ì „ì—­ ethers ê°ì²´ ìƒì„± -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.10.0/dist/ethers.umd.min.js"></script>
</head>
<body>
  <h2>MetaMask ì—°ê²° ë°ëª¨</h2>
  <button id="connectButton">ğŸ”— MetaMask ì—°ê²°</button>
  <p id="accountInfo"></p>

  <script>
    const connectBtn  = document.getElementById('connectButton');
    const accountInfo = document.getElementById('accountInfo');
    let provider, signer;

    connectBtn.addEventListener('click', async () => {
      if (!window.ethereum) {
        accountInfo.textContent = 'âš ï¸ MetaMaskê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.';
        return;
      }

      try {
        provider = new ethers.BrowserProvider(window.ethereum);  // v6
        await provider.send('eth_requestAccounts', []);
        signer  = await provider.getSigner();
        const addr = await signer.getAddress();
        accountInfo.textContent = `ğŸ§¾ ì—°ê²°ëœ ê³„ì •: ${addr}`;
      } catch (err) {
        accountInfo.textContent = 'âŒ ì—°ê²° ì‹¤íŒ¨: ' + err.message;
      }
    });
  </script>
</body>
</html>
